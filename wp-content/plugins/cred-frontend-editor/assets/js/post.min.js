!function(e,t,i,n,a){var r,o,s,l=27,c={checkButton:function(){var e=t("#cred-insert-shortcode"),a=!1,r=!1,o=null,s=t("#cred-form-shortcodes-box-inner input.cred-shortcode-container-radio:checked");switch(s.attr("id")){case"cred-post-creation-container":o=t("#cred_form-new-shortcode-select").val(),o&&""!=o||(a=!0,r=i.locale.select_form);break;case"cred-post-edit-container":"insert-link"==t('#cred-post-edit-container-advanced input[name="cred-edit-how-to-display"]:checked').val()?t("#cred-edit-link-text-container").show():t("#cred-edit-link-text-container").hide(),"edit-other-post"==t('#cred-post-edit-container-advanced input[name="cred-edit-what-to-edit"]:checked').val()?t("#cred-edit-other-post-more").show():t("#cred-edit-other-post-more").hide(),o=t("#cred_form-edit-shortcode-select").val(),o&&""!=o?(o=t("#cred-edit-post-select").val(),"edit-other-post"!=t('#cred-post-edit-container-advanced input[name="cred-edit-what-to-edit"]:checked').val()||o&&""!=o||(a=!0,r=i.locale.select_post)):(a=!0,r=i.locale.select_form);break;case"cred-post-child-link-container":o=t("#cred-child-form-page").val(),o&&""!=o||(a=!0,r="Select a page which has child form"),o=t("#cred_post_child_parent_id").val(),"other"!=t('#_cred-post-child-link-container input[name="cred-post-child-parent-action"]:checked').val()||o&&""!=o||(a=!0,r="Select Parent Post");break;case"cred-post-delete-link-container":o=t("#cred_post_delete_id").val(),"delete-other-post"!=t('#cred-post-delete-link-container-advanced input[name="cred-delete-what-to-delete"]:checked').val()||o&&""!=o&&n.isNumber(o)||(a=!0,r=i.locale.insert_post_id);break;default:a=!0,r=i.locale.select_shortcode}r!==!1?e.attr("title",r):e.attr("title",i.locale.insert_shortcode),a?e.attr("disabled","disabled"):e.removeAttr("disabled"),c.checkClassButton(e)},checkButton2:function(e){var a,r=t(".cred-insert-shortcode2",e),o=!1,s=!1,l=t("input.cred-shortcode-container-radio:checked",e);l.hasClass("cred-post-creation-container2")?(a=t(".cred_form-new-shortcode-select2",e).val(),""!=a&&a||(o=!0,s=i.locale.select_form)):l.hasClass("cred-post-edit-container2")?(a=t('.cred-post-edit-container-advanced2 input[name^="cred-edit-how-to-display"]:checked',e).val(),"insert-link"==a?t(".cred-edit-link-text-container2",e).show():t(".cred-edit-link-text-container2",e).hide(),a=t('.cred-post-edit-container-advanced2 input[name^="cred-edit-what-to-edit"]:checked',e).val(),"edit-other-post"==a?t(".cred-edit-other-post-more2",e).show():t(".cred-edit-other-post-more2",e).hide(),a=t(".cred_form-edit-shortcode-select2",e).val(),""!=a&&a?(a=t(".cred-edit-post-select2",e).val(),"edit-other-post"!=t('.cred-post-edit-container-advanced2 input[name^="cred-edit-what-to-edit"]:checked',e).val()||""!=a&&a||(o=!0,s=i.locale.select_post)):(o=!0,s=i.locale.select_form)):l.hasClass("cred-post-child-link-container2")?(a=t(".cred-child-form-page2",e).val(),""!=a&&a||(o=!0,s="Select a page which has child form"),a=t(".cred_post_child_parent_id2",e).val(),"other"!=t('._cred-post-child-link-container2 input[name^="cred-post-child-parent-action"]:checked',e).val()||""!=a&&a||(o=!0,s="Select Parent Post")):l.hasClass("cred-post-delete-link-container2")?(a=t(".cred_post_delete_id2",e).val(),"delete-other-post"!=t('.cred-post-delete-link-container-advanced2 input[name^="cred-delete-what-to-delete"]:checked',e).val()||""!=a&&a&&n.isNumber(a)||(o=!0,s=i.locale.insert_post_id)):(o=!0,s=i.locale.select_shortcode),s!==!1?r.attr("title",s):r.attr("title",i.locale.insert_shortcode),o?r.attr("disabled","disabled"):r.removeAttr("disabled"),c.checkClassButton(r)},checkClassButton:function(e){"disabled"==e.attr("disabled")?e.hasClass("button-primary")&&e.removeClass("button-primary").addClass("button-secondary"):e.hasClass("button-secondary")&&e.removeClass("button-secondary").addClass("button-primary")},popupHandler:function(e){e.stopPropagation(),e.preventDefault();var i,a,l,c,d,u,p=t(this);if(p.is(":disabled")||p.attr("disabled"))return!1;var h=t("#cred-form-shortcodes-box-inner input.cred-shortcode-container-radio:checked");switch(h.attr("id")){case"cred-post-creation-container":if(i=t("#cred_form-new-shortcode-select").val(),a=t("option:selected",t("#cred_form-new-shortcode-select")).text(),!i)return!1;c='[cred_form form="'+a+'"]';break;case"cred-post-edit-container":if(i=t("#cred_form-edit-shortcode-select").val(),a=t("#cred_form-edit-shortcode-select option:selected").text(),!i)return!1;switch(t('#cred-post-edit-container-advanced input[name="cred-edit-what-to-edit"]:checked').val()){case"edit-current-post":l=null;break;case"edit-other-post":if(l=t("#cred-edit-post-select").val(),!l)return!1;break;default:return!1}switch(t('#cred-post-edit-container-advanced input[name="cred-edit-how-to-display"]:checked').val()){case"insert-link":var f="",m="_self",g="",v="",y="",b=[];f=t("#cred-edit-html-class").val(),g=t("#cred-edit-html-style").val(),v=t("#cred-edit-html-text").val(),y=t("#cred-edit-html-attributes").val(),m=t("#cred-edit-html-target").val(),""!=f&&b.push('class="'+f+'"'),""!=g&&b.push('style="'+g+'"'),""!=v&&b.push('text="'+v+'"'),""!=m&&b.push('target="'+m+'"'),""!=y&&b.push('attributes="'+y.split('"').join("%dbquo%").split("'").join("%quot%").split("=").join("%eq%")+'"'),b=b.length>0?" "+b.join(" "):"",c=null==l?'[cred_link_form form="'+a+'"'+b+"]":'[cred_link_form form="'+a+'" post="'+l+'"'+b+"]";break;case"insert-form":c=null==l?'[cred_form form="'+a+'"]':'[cred_form form="'+a+'" post="'+l+'"]';break;default:return!1}break;case"cred-post-child-link-container":if(d=t("#cred-child-form-page").val(),""==d||isNaN(new Number(d)))return!1;switch(t('#_cred-post-child-link-container input[name="cred-post-child-parent-action"]:checked').val()){case"current":u=-1;break;case"form":u=null;break;case"other":if(u=t("#cred_post_child_parent_id").val(),!u||isNaN(new Number(u)))return!1;break;default:return!1}var f="",m="_self",g="",v="",y="",b=[];f=t("#cred-child-html-class").val(),g=t("#cred-child-html-style").val(),v=t("#cred-child-link-text").val(),y=t("#cred-child-html-attributes").val(),m=t("#cred-child-html-target").val(),""!=f&&b.push('class="'+f+'"'),""!=g&&b.push('style="'+g+'"'),""!=v&&b.push('text="'+v+'"'),""!=m&&b.push('target="'+m+'"'),""!=y&&b.push('attributes="'+y.split('"').join("%dbquo%").split("'").join("%quot%").split("=").join("%eq%")+'"'),b=b.length>0?" "+b.join(" "):"",c=null==u?'[cred_child_link_form form="'+d+'"'+b+"]":'[cred_child_link_form form="'+d+'" parent_id="'+u+'"'+b+"]";break;case"cred-post-delete-link-container":var f="",g="",v="",_=!0,b=[],$="",w="";f=t("#cred-delete-html-class").val(),g=t("#cred-delete-html-style").val(),v=t("#cred-delete-html-text").val(),w=t("#cred-delete-html-message").val(),_=t("#cred-refresh-after-action").is(":checked"),_&&(f+=""==f?"cred-refresh-after-delete":" cred-refresh-after-delete"),$=t('#cred-post-delete-link-container-advanced input[name="cred-delete-delete-action"]:checked').val(),""!=f&&b.push('class="'+f+'"'),""!=g&&b.push('style="'+g+'"'),""!=v&&b.push('text="'+v+'"'),""!=$&&b.push('action="'+$+'"'),""!=w&&b.push('message="'+w+'"'),b=b.length>0?" "+b.join(" "):"","delete-other-post"==t('#cred-post-delete-link-container-advanced input[name="cred-delete-what-to-delete"]:checked').val()?(l=t("#cred_post_delete_id").val(),c='[cred_delete_post_link post="'+l+'"'+b+"]"):c="[cred_delete_post_link"+b+"]";break;default:return!1}c&&""!=c&&(n.InsertAtCursor(t("#content"),c),n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()}))},popupHandler2:function(e){e.stopPropagation(),e.preventDefault();var i,a,l,c,d,u,p=!1,h=t(this);if(h.is(":disabled")||h.attr("disabled"))return!1;var f=t(h.attr("data-content")),m=h.closest(".cred-popup-box"),g=t("input.cred-shortcode-container-radio:checked",m);if(g.hasClass("cred-post-creation-container2"))i=t(".cred_form-new-shortcode-select2",m).val(),a=t(".cred_form-new-shortcode-select2 option:selected",m).text(),i?c='[cred_form form="'+a+'"]':p="No Form";else if(g.hasClass("cred-post-edit-container2"))if(i=t(".cred_form-edit-shortcode-select2",m).val(),a=t(".cred_form-edit-shortcode-select2 option:selected",m).text(),i){switch(t('.cred-post-edit-container-advanced2 input[name^="cred-edit-what-to-edit"]:checked',m).val()){case"edit-current-post":l=null;break;case"edit-other-post":if(l=t(".cred-edit-post-select2",m).val(),!l){p="No Post";break}break;default:p="No Option"}if(!p)switch(t('.cred-post-edit-container-advanced2 input[name^="cred-edit-how-to-display"]:checked',m).val()){case"insert-link":var v="",y="_self",b="",_="",$="",w=[];v=t(".cred-edit-html-class2",m).val(),b=t(".cred-edit-html-style2",m).val(),_=t(".cred-edit-html-text2",m).val(),$=t(".cred-edit-html-attributes2",m).val(),y=t(".cred-edit-html-target2",m).val(),""!=v&&w.push('class="'+v+'"'),""!=b&&w.push('style="'+b+'"'),""!=_&&w.push('text="'+_+'"'),""!=y&&w.push('target="'+y+'"'),""!=$&&w.push('attributes="'+$.split('"').join("%dbquo%").split("'").join("%quot%").split("=").join("%eq%")+'"'),w=w.length>0?" "+w.join(" "):"",c=null==l?'[cred_link_form form="'+a+'"'+w+"]":'[cred_link_form form="'+a+'" post="'+l+'"'+w+"]";break;case"insert-form":c=null==l?'[cred_form form="'+a+'"]':'[cred_form form="'+a+'" post="'+l+'"]';break;default:p="No Option"}}else p="No Form";else if(g.hasClass("cred-post-child-link-container2"))if(d=t(".cred-child-form-page2",m).val(),""==d||isNaN(new Number(d)))p="No Form Page";else{switch(t('._cred-post-child-link-container2 input[name^="cred-post-child-parent-action"]:checked',m).val()){case"current":u=-1;break;case"form":u=null;break;case"other":if(u=t(".cred_post_child_parent_id2",m).val(),!u||isNaN(new Number(u))){p="No Parent";break}break;default:p="No Option"}if(!p){var v="",y="_self",b="",_="",$="",w=[];v=t(".cred-child-html-class2",m).val(),b=t(".cred-child-html-style2",m).val(),_=t(".cred-child-link-text2",m).val(),$=t(".cred-child-html-attributes2",m).val(),y=t(".cred-child-html-target2",m).val(),""!=v&&w.push('class="'+v+'"'),""!=b&&w.push('style="'+b+'"'),""!=_&&w.push('text="'+_+'"'),""!=y&&w.push('target="'+y+'"'),""!=$&&w.push('attributes="'+$.split('"').join("%dbquo%").split("'").join("%quot%").split("=").join("%eq%")+'"'),w=w.length>0?" "+w.join(" "):"",c=null==u?'[cred_child_link_form form="'+d+'"'+w+"]":'[cred_child_link_form form="'+d+'" parent_id="'+u+'"'+w+"]"}}else if(g.hasClass("cred-post-delete-link-container2")){var v="",b="",_="",x=!0,w=[],k="";v=t(".cred-delete-html-class2",m).val(),b=t(".cred-delete-html-style2",m).val(),_=t(".cred-delete-html-text2",m).val(),x=t(".cred-refresh-after-action",m).is(":checked"),x&&(v+=""==v?"cred-refresh-after-delete":" cred-refresh-after-delete"),k=t('.cred-post-delete-link-container-advanced2 input[name^="cred-delete-delete-action"]:checked',m).val(),""!=v&&w.push('class="'+v+'"'),""!=b&&w.push('style="'+b+'"'),""!=_&&w.push('text="'+_+'"'),""!=k&&w.push('action="'+k+'"'),w=w.length>0?" "+w.join(" "):"","delete-other-post"==t('.cred-post-delete-link-container-advanced2 input[name^="cred-delete-what-to-delete"]:checked',m).val()?(l=t(".cred_post_delete_id",m).val(),c='[cred_delete_post_link post="'+l+'"'+w+"]"):c="[cred_delete_post_link"+w+"]"}else p="No Option";return p?!1:c&&""!=c?(n.InsertAtCursor(f,c),n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()}),!1):void 0}},d={app:n,gui:a,settings:i,route:function(e,t,a){return n.route("cred",i.ajaxurl,e,t,a)},getContents:function(){return{content:n.getContent(t("#content")),"cred-extra-css-editor":n.getContent(t("#cred-extra-css-editor")),"cred-extra-js-editor":n.getContent(t("#cred-extra-js-editor"))}},posts:function(){r=t(".cred-media-button"),o=t(".cred-popup-box");var e=t("#cred_form-new-shortcode-select").find("option"),a=t("#cred_form-edit-shortcode-select").find("option"),u=t(".cred-shortcodes-container-advanced");if(u.each(function(){t(this).hide(),t(".cred-show-hide-advanced",t(this).parent()).text(i.locale.show_advanced_options)}),t(".cred_ajax_loader_small").hide(),u.filter(function(){return t(this).hasClass("cred-show")?!0:!1}).each(function(){t(this).show(),t(".cred-show-hide-advanced",t(this).parent()).text(i.locale.hide_advanced_options)}),o.on("click",".cred-show-hide-advanced",function(){var e=t(".cred-shortcodes-container-advanced",t(this).parent());e.hasClass("cred-show")?(e.removeClass("cred-show"),e.stop().slideFadeUp("slow","quintEaseIn"),t(this).text(i.locale.show_advanced_options)):(e.addClass("cred-show"),e.stop().slideFadeDown("slow","quintEaseOut"),t(this).text(i.locale.hide_advanced_options))}),t("#cred-form-shortcodes-box").on("change","#cred_form-edit-shortcode-select",function(e){e.stopPropagation();var i=t(this).val();t("option:selected",t(this)).text();var n=t("#cred-form-addtional-loader").show();t.ajax({url:d.route("/Posts/getPosts?form_id="+i),timeout:1e4,type:"GET",data:"",dataType:"html",success:function(e){t("#cred-edit-post-select").html(e),n.hide()},error:function(){n.hide()}})}),t(".cred-form-shortcodes-box2").on("change",".cred_form-edit-shortcode-select2",function(e){e.stopPropagation();var i=t(this).closest(".cred-form-shortcodes-box2"),n=t(this).val();t("option:selected",t(this)).text(),t(".cred-form-addtional-loader2",i).show(),t.ajax({url:d.route("/Posts/getPosts?form_id="+n),timeout:1e4,type:"GET",data:"",dataType:"html",success:function(e){t(".cred-edit-post-select2",i).html(e),t(".cred-form-addtional-loader2",i).hide()},error:function(){t(".cred-form-addtional-loader2",i).hide()}})}),t("#cred-child-form-page, .cred-child-form-page2, #cred_post_child_parent_id, .cred_post_child_parent_id2").cred_suggest(d.route("/Posts/suggestPostsByTitle"),{delay:200,minchars:3,multiple:!1,multipleSep:"",resultsClass:"ac_results",selectClass:"ac_over",matchClass:"ac_match",onStart:function(){t("#cred-form-suggest-child-form-loader").show()},onComplete:function(){t("#cred-form-suggest-child-form-loader").hide()}}),2==e.length&&(e.eq(0).removeAttr("selected"),e.eq(1).attr("selected","selected")),2==a.length&&(a.eq(0).removeAttr("selected"),a.eq(1).attr("selected","selected"),a.eq(1).closest("select").trigger("change")),1==e.length){var p=t("#cred-form-shortcode-types-select-container #cred-post-creation-container");p.attr("disabled","disabled"),p.closest("td").append('<span class="cred-warn">'+i.locale.create_new_content_form+"</span>")}if(1==a.length){var p=t("#cred-form-shortcode-types-select-container #cred-post-edit-container");p.attr("disabled","disabled"),p.closest("td").append('<span class="cred-warn">'+i.locale.create_edit_content_form+"</span>")}t(".cred-shortcodes-container").hide(),t("#cred-form-addtional-loader").hide(),t(".cred-form-addtional-loader2").hide(),t("#cred-form-shortcode-types-select-container .cred-shortcode-container-radio").each(function(){this.checked=!1}),t("#cred-form-shortcode-types-select-container").on("change",".cred-shortcode-container-radio",function(){var e=t(this);return e.is(":disabled")?!1:(e.is(":checked")&&(t(".cred-shortcodes-container").hide(),t("#_"+e.attr("id")).stop().slideFadeDown("slow","quintEaseOut")),void 0)}),t(".cred-form-shortcode-types-select-container2").on("change",".cred-shortcode-container-radio",function(){var e=t(this);if(e.is(":disabled"))return!1;if(e.is(":checked")){var i=e.attr("class");i=i.replace("cred-shortcode-container-radio","").replace("cred-radio-10","").replace(/\s+/g,""),t(".cred-shortcodes-container").hide(),t("._"+i).stop().slideFadeDown("slow","quintEaseOut")}}),t('#cred-post-edit-container-advanced input[name="cred-edit-how-to-display"]').change(function(){t(this).is(":checked")&&"insert-link"==t(this).val()?(t("#cred-edit-html-fieldset").show(),t("#cred-edit-html-single-fieldset").show()):(t("#cred-edit-html-fieldset").hide(),t("#cred-edit-html-single-fieldset").hide())}),t('.cred-post-edit-container-advanced2 input[name="cred-edit-how-to-display"]').change(function(){var e=t(this).closest(".cred-form-shortcode-button2");t(this).is(":checked")&&"insert-link"==t(this).val()?(t(".cred-edit-html-fieldset2",e).show(),t(".cred-edit-html-single-fieldset2",e).show()):(t(".cred-edit-html-fieldset2",e).hide(),t(".cred-edit-html-single-fieldset2",e).hide())}),t("#cred-insert-shortcode").click(c.popupHandler),t(".cred-insert-shortcode2").click(c.popupHandler2),t(document).on("click","#cred-form-shortcode-button-button",function(e){e.stopPropagation(),e.preventDefault(),r.css("z-index",1),o.hide(),t(this).closest(".cred-media-button").css("z-index",100),t("#cred-form-shortcodes-box").__show(),c.checkButton(),s=setInterval(function(){c.checkButton()},500)}),t(document).on("click",".cred-form-shortcode-button-button2,.js-code-editor-toolbar-button-cred-icon",function(e){e.stopPropagation(),e.preventDefault(),r.css("z-index",1),o.hide(),t(this).closest(".cred-media-button").css("z-index",100),t(".cred-form-shortcodes-box2",t(this).closest(".cred-media-button")).__show();var i=t(this).closest(".cred-form-shortcode-button2");c.checkButton2(i),s=setInterval(function(){c.checkButton2(i)},500)}),t("#cred-form-shortcodes-box").on("click","#cred-popup-cancel",function(e){e.preventDefault(),n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()})}),t(".cred-form-shortcodes-box2").on("click",".cred-popup-cancel2",function(e){e.preventDefault(),n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()})}),t(document).click(function(e){e._cred_specific||0!==o.filter(function(){return t(this).is(":visible")}).has(e.target).length||n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()},!0)}),t(document).keyup(function(e){e.keyCode==l&&n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()})}),t(document).on("click",".cred-cred-cancel-close",function(){n.doDelayed(function(){clearInterval(s),r.css("z-index",1),o.hide()})})}};e.cred_cred=d}(window,jQuery,cred_settings,cred_utils,cred_gui);